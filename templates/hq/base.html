{% load static %}
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>{% block title %}HQ{% endblock %}</title>
<style>
  :root{
    --bg-0:#f7faff; --bg-1:#eef5ff;
    --ink-900:#0b1b3a; --ink-700:#1c2f57; --ink-500:#476aa0;
    --brand-500:#2f6bff; --brand-600:#2757d8;
    --ring:#d8e4ff; --chip:#e9f2ff; --glass:rgba(255,255,255,.65);
    --shadow-1:0 10px 30px rgba(12,36,97,.08); --shadow-2:0 12px 40px rgba(12,36,97,.12);
    --radius:18px; --navy:#0f1e35;
  }
  html,body{height:100%;margin:0;background:radial-gradient(1100px 1100px at 10% -10%, #ffffff 0, #f7fbff 30%, #eef5ff 60%, #e6f0ff 100%);color:var(--ink-900);font:500 15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial}
  .layout{display:grid;grid-template-columns:250px 1fr;min-height:100vh}

  /* Sticky sidebar (never disappears) */
  .sidebar{
    position:sticky;top:0;height:100dvh;overflow:auto;scrollbar-gutter:stable;
    background:#0b0f14;color:#cfe0ff;border-right:1px solid rgba(255,255,255,.06);
    padding:16px 14px;display:flex;flex-direction:column;gap:10px;
  }
  .brand{display:flex;align-items:center;gap:10px;padding:10px;border-radius:12px;background:rgba(255,255,255,.05);
    box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);font-weight:800}
  .brand .dot{width:36px;height:36px;border-radius:9px;background:linear-gradient(160deg,#1f6feb,#58a6ff);display:grid;place-items:center;color:#fff}
  .nav{margin-top:8px;display:flex;flex-direction:column;gap:8px}
  .nav a{display:flex;align-items:center;gap:10px;text-decoration:none;color:#c7d2e5;padding:12px 10px;border-radius:12px;background:transparent;border:1px solid rgba(255,255,255,.06);transition:.2s}
  .nav a:hover{background:var(--navy);color:#fff;border-color:rgba(255,255,255,.12)}
  .nav a.active{background:linear-gradient(180deg,rgba(255,255,255,.1),rgba(255,255,255,.06));color:#fff;box-shadow:inset 0 0 0 1px rgba(255,255,255,.08)}

  .content{padding:20px}
  .shell{max-width:1240px;margin:0 auto}

  /* Reusable UI bits */
  .pill{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;background:var(--glass);border:1px solid var(--ring);font-weight:700}
  .pill.active{background:rgba(47,107,255,.14);color:var(--brand-600);border-color:rgba(47,107,255,.32)}
  .card{background:var(--glass);backdrop-filter:blur(10px);border-radius:18px;padding:16px;box-shadow:var(--shadow-1);border:1px solid rgba(47,107,255,.16)}
  .kpis{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0 12px}
  table{width:100%;border-collapse:separate;border-spacing:0 10px}
  th{font-size:12px;color:var(--ink-500);text-align:left;padding:0 10px}
  td{background:#fff;border:1px solid #e7eeff;border-left:none;border-right:none;padding:14px 10px}
  tr{box-shadow:0 6px 18px rgba(12,36,97,.08)}
  .btn{border:none;border-radius:10px;padding:8px 12px;font-weight:800;background:var(--brand-600);color:#fff;cursor:pointer}
  .btn-ghost{background:transparent;border:1px solid var(--ring);color:#153e75}
  .badge{font-size:12px;padding:.25rem .5rem;border-radius:999px;border:1px solid var(--ring);background:#eef4ff;color:#2757d8}

  /* Dialog */
  dialog{border:none;border-radius:16px;box-shadow:var(--shadow-2);padding:0}
  dialog .dlg{padding:16px 16px 12px;min-width:320px}
  dialog::backdrop{background:rgba(0,8,20,.35)}
</style>
{% block head %}{% endblock %}
</head>
<body>
<div class="layout">
  <aside class="sidebar">
    <div class="brand"><div class="dot">HQ</div> <div>Control Center</div></div>
    <nav class="nav">
      <a href="{% url 'hq:dashboard' %}" class="{% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">Dashboard</a>
      <a href="{% url 'hq:businesses' %}" class="{% if request.resolver_match.url_name == 'businesses' %}active{% endif %}">Businesses</a>
      <a href="{% url 'hq:subscriptions' %}" class="{% if request.resolver_match.url_name == 'subscriptions' %}active{% endif %}">Subscriptions</a>
      <a href="{% url 'hq:invoices' %}" class="{% if request.resolver_match.url_name == 'invoices' %}active{% endif %}">Invoices</a>
      <a href="{% url 'hq:agents' %}" class="{% if request.resolver_match.url_name == 'agents' %}active{% endif %}">Agents</a>
      <a href="{% url 'hq:wallet' %}" class="{% if request.resolver_match.url_name == 'wallet' %}active{% endif %}">Wallet</a>
      <a href="{% url 'hq:stock_trends' %}" class="{% if request.resolver_match.url_name == 'stock_trends' %}active{% endif %}">Stock trends</a>
      {% url 'admin:index' as admin_url %}<a href="{{ admin_url }}">â†— Django Admin</a>
    </nav>
  </aside>
  <main class="content">
    <div class="shell">
      {% block body %}{% endblock %}
    </div>
  </main>
</div>
{% block foot %}{% endblock %}
</body>
</html>
