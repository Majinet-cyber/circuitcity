{# templates/partials/topbar.html #}
<style>
  .cc-topbar-wrap{
    position:sticky; top:0; z-index:50; background:#fff;
    border-bottom:1px solid rgba(15,23,42,.06);
    backdrop-filter:saturate(160%) blur(4px);
  }
  .cc-topbar{
    display:grid; grid-template-columns:220px 1fr auto;
    gap:14px; align-items:center;
    padding:14px 18px;
    max-width:1400px; margin:0 auto;
  }
  .cc-brand-min{
    display:flex; align-items:center; gap:.6rem; font-weight:800; color:#0f172a;
  }
  .cc-brand-min .dot{
    width:28px; height:28px; border-radius:9px;
    background:linear-gradient(135deg,#60a5fa,#3b82f6);
    box-shadow:0 4px 12px rgba(59,130,246,.35);
  }
  /* Search */
  .cc-search{
    display:flex; align-items:center; gap:10px;
    border:1px solid #e2e8f0; border-radius:12px; padding:10px 12px;
    background:#f8fafc;
    transition:border-color .15s ease, box-shadow .15s ease;
  }
  .cc-search:focus-within{ border-color:#93c5fd; box-shadow:0 0 0 4px rgba(147,197,253,.35); }
  .cc-search input{
    flex:1; border:0; outline:0; background:transparent; font-size:15px; color:#0f172a;
  }
  .cc-actions{
    display:flex; align-items:center; gap:10px;
  }
  .cc-chip{
    display:inline-flex; align-items:center; gap:.5rem;
    padding:8px 12px; border-radius:999px; font-weight:700; white-space:nowrap;
    background:#f1f5f9; color:#0f172a; border:1px solid #e2e8f0;
  }
  .cc-chip .dot{ width:8px; height:8px; border-radius:50%; background:#f59e0b; }
  .cc-btn{
    border:1px solid #e2e8f0; background:#fff; color:#0f172a;
    border-radius:12px; padding:10px 14px; font-weight:800; cursor:pointer;
    box-shadow:0 4px 10px rgba(2,8,23,.04);
    transition:transform .08s ease, box-shadow .18s ease, background .15s ease;
  }
  .cc-btn:hover{ box-shadow:0 8px 18px rgba(2,8,23,.08); }
  .cc-btn:active{ transform:translateY(1px); }
  .cc-icon-btn{
    width:40px; height:40px; display:grid; place-items:center; border-radius:12px;
    border:1px solid #e2e8f0; background:#fff; cursor:pointer;
  }
  /* Small screen */
  @media (max-width: 900px){
    .cc-topbar{ grid-template-columns:1fr auto; gap:10px; }
    .cc-brand-min{ display:none; }
  }
</style>

<div class="cc-topbar-wrap">
  <div class="cc-topbar">
    <!-- Left: brand -->
    <a href="/" class="cc-brand-min" aria-label="Circuit City Home">
      <span class="dot" aria-hidden="true"></span>
      <span>Circuit City</span>
    </a>

    <!-- Center: search -->
    <form class="cc-search" action="/search/" method="get" role="search">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M21 21l-4.3-4.3m1.8-4.7a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"
              stroke="#64748b" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <input
        type="search" name="q"
        placeholder="Search SKUs, agents, invoicesâ€¦" />
    </form>

    <!-- Right: actions -->
    <div class="cc-actions">
      <!-- GX shortcut (kept small and neat) -->
      <button type="button" class="cc-btn" title="Command (GX)">GX</button>

      <!-- Notifications -->
      <button type="button" class="cc-icon-btn" title="Notifications" id="cc-bell">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M15 17H5a2 2 0 0 1-2-2V11a7 7 0 1 1 14 0v4a2 2 0 0 1-2 2Zm-7 0v1a4 4 0 0 0 8 0v-1"
                stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <!-- Active business pill -->
      {% if request.business %}
        <a class="cc-chip" href="{% url 'tenants:choose_business' %}" title="Switch business">
          <span class="dot" style="background:#22c55e"></span>
          <span>{{ request.business.name }}</span>
        </a>
      {% else %}
        <a class="cc-chip" href="{% url 'tenants:choose_business' %}" title="Set active business">
          <span class="dot"></span>
          <span>No active business</span>
        </a>
      {% endif %}
    </div>
  </div>
</div>

<script>
  // Optional: simple toast for the bell
  document.getElementById('cc-bell')?.addEventListener('click', () => {
    alert('No notifications.');
  });
</script>
