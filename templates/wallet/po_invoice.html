<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>PO {{ po.id }}</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; font-size: 12px; color:#111; }
    .wrap{ max-width: 860px; margin: 0 auto; padding: 24px; }
    h1{ font-size: 20px; margin: 0 0 8px; }
    table{ width:100%; border-collapse: collapse; }
    th, td{ padding:8px; border-bottom:1px solid #ddd; }
    th{ text-align:left; background:#f8f9fa; }
    .right{ text-align:right; }
    .muted{ color:#666; }
    .totals td{ border:none; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Purchase Order</h1>
    <div class="muted">PO-{{ po.id }} · {{ po.created_at|date:"Y-m-d H:i" }}</div>

    <table style="margin-top:16px">
      <tr>
        <td>
          <strong>Supplier</strong><br>
          {{ po.supplier_name|default:"(Supplier)" }}<br>
          {{ po.supplier_email }}<br>
          {{ po.supplier_phone }}
        </td>
        <td class="right">
          <strong>Agent</strong><br>
          {{ po.agent_name|default:"(N/A)" }}<br><br>
          <strong>Currency:</strong> {{ po.currency }}
        </td>
      </tr>
    </table>

    <table style="margin-top:16px">
      <thead>
        <tr>
          <th>Model</th>
          <th class="right">Unit Price</th>
          <th class="right">Qty</th>
          <th class="right">Line Total</th>
        </tr>
      </thead>
      <tbody>
        {% for it in po.items.all %}
        <tr>
          <td>{{ it.product.name }}</td>
          <td class="right">{{ it.unit_price|floatformat:2 }}</td>
          <td class="right">{{ it.quantity }}</td>
          <td class="right">{{ it.line_total|floatformat:2 }}</td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr class="totals"><td colspan="3" class="right"><strong>Subtotal</strong></td><td class="right">{{ po.subtotal|floatformat:2 }}</td></tr>
        <tr class="totals"><td colspan="3" class="right"><strong>Tax</strong></td><td class="right">{{ po.tax|floatformat:2 }}</td></tr>
        <tr class="totals"><td colspan="3" class="right"><strong>Total</strong></td><td class="right"><strong>{{ po.total|floatformat:2 }}</strong></td></tr>
      </tfoot>
    </table>

    {% if po.notes %}
      <p style="margin-top:16px"><strong>Notes:</strong><br>{{ po.notes|linebreaksbr }}</p>
    {% endif %}

    <p class="muted" style="margin-top:24px">
      Generated by Circuit City · Admin Wallet
    </p>
  </div>
</body>
</html>
