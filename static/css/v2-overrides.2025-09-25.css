/* ==========================================================================
   v2-overrides.css ‚Äî Circuit City
   Rich UI + Mobile full-screen fit + stable dropdowns + bold red alerts
   Safe overlay (no vendor edits). Order matters; last rules win.
   ========================================================================== */

/* --- Global sanity ------------------------------------------------------- */
*, *::before, *::after { box-sizing: border-box; }
html, body { width: 100%; max-width: 100vw; overflow-x: hidden; -webkit-text-size-adjust: 100%; }

/* --------------------------------------------------------------------------
   Theme tokens
   -------------------------------------------------------------------------- */
:root {
  --cc-dev: 1;

  /* Brand */
  --cc-brand: #0b5ed7;
  --cc-brand-600: #0a58ca;
  --cc-brand-700: #094db4;

  /* Accents */
  --cc-accent:  #1b4a9b;
  --cc-warning: #f59f00;
  --cc-danger:  #e03131; /* base red */
  --cc-danger-600: #d01818; /* darker red for borders/hover */

  /* Grays */
  --cc-bg: #eef3fb;
  --cc-card: #ffffff;
  --cc-muted: #64748b;
  --cc-border: #d9deea;
  --cc-heading: #0f172a;
  --cc-text: #111827;

  /* Surfaces */
  --cc-shadow-sm: 0 6px 16px rgb(15 23 42 / 10%);
  --cc-shadow-md: 0 14px 40px rgb(15 23 42 / 16%);

  /* Radius & spacing */
  --cc-radius: 16px;
  --cc-radius-sm: 12px;
  --cc-gap: 16px;

  /* Charts */
  --cc-chart-1: #4f46e5;
  --cc-chart-2: #06b6d4;
  --cc-chart-3: #22c55e;
  --cc-chart-4: #f59e0b;

  /* Table */
  --cc-row-hover: #eaf0ff;

  /* Badges / pills */
  --cc-badge-ink: #0f172a;
  --cc-badge-bg: #e7efff;
  --cc-badge-br: #c8dcff;

  /* Safe areas & dock */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: max(env(safe-area-inset-bottom), 0px);
  --dock-h: 64px;

  /* Drawer width (~30% screen) */
  --nav-drawer-w: clamp(260px, 30vw, 420px);
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    --cc-bg: #0f1115;
    --cc-card: #141924;
    --cc-text: #e5e7eb;
    --cc-heading: #f8fafc;
    --cc-border: #223049;
    --cc-row-hover: #182131;
    --cc-shadow-sm: 0 6px 16px rgb(0 0 0 / 40%);
    --cc-shadow-md: 0 18px 44px rgb(0 0 0 / 55%);
    --cc-badge-ink: #e5edff;
    --cc-badge-bg: #10203b;
    --cc-badge-br: #1e3356;
  }
}
body.dark {
  --cc-bg: #0f1115;
  --cc-card: #141924;
  --cc-text: #e5e7eb;
  --cc-heading: #f8fafc;
  --cc-border: #223049;
  --cc-row-hover: #182131;
  --cc-badge-ink: #e5edff;
  --cc-badge-bg: #10203b;
  --cc-badge-br: #1e3356;
}

/* --------------------------------------------------------------------------
   Base layout polish
   -------------------------------------------------------------------------- */
html, body {
  background: var(--cc-bg);
  color: var(--cc-text);
  min-height: 100svh;
}

input, select, textarea { font-size: 16px; } /* prevent iOS zoom */

h1, h2, h3, h4, h5 {
  color: var(--cc-heading);
  letter-spacing: -0.01em;
  font-weight: 800;
}

@media (max-width: 420px){
  h1 { font-size: clamp(20px, 6vw, 24px); line-height: 1.2; }
  h2 { font-size: clamp(18px, 5.2vw, 22px); line-height: 1.25; }
  .display-1, .display-2, .display-3 { font-size: clamp(24px, 7vw, 30px); line-height: 1.15; }
}

img, svg, video, canvas { max-width: 100%; height: auto; }

main, .cc-page, .content, .page, .container, .container-fluid {
  padding-bottom: calc(var(--dock-h) + var(--safe-bottom) + 16px);
}
.container, .container-fluid {
  padding-left: max(12px, 3vw);
  padding-right: max(12px, 3vw);
}

.section, .section-sm { margin-block: calc(var(--cc-gap) * 1.1); }

/* Cards */
.card, .cc-card, .stat-card, .glass-card {
  background: linear-gradient(180deg, #fff, #f9fbff);
  border: 1px solid var(--cc-border);
  border-radius: var(--cc-radius);
  box-shadow: var(--cc-shadow-sm);
  overflow: visible;
}
body.dark .card,
body.dark .cc-card,
body.dark .stat-card,
body.dark .glass-card {
  background: linear-gradient(180deg, #171c28, #141924);
}
.card:hover, .cc-card:hover, .stat-card:hover, .glass-card:hover {
  box-shadow: var(--cc-shadow-md);
  transition: box-shadow .18s ease, transform .18s ease;
  transform: translateY(-1px);
}
.card-header {
  background: transparent;
  border-bottom: 1px solid var(--cc-border);
  font-weight: 700;
}

/* KPI chips + strong stats */
.kpi, .kpi-chip {
  display: inline-flex; align-items: baseline; gap: 8px;
  padding: 10px 14px; border-radius: 999px;
  background: color-mix(in srgb, var(--cc-brand) 9%, #fff);
  border: 1px solid color-mix(in srgb, var(--cc-brand) 35%, var(--cc-border));
  font-variation-settings: "wght" 700; color: var(--cc-heading);
}
body.dark .kpi, body.dark .kpi-chip {
  background: color-mix(in srgb, var(--cc-brand) 18%, #0f1115);
}
.kpi-strong, .stat-card {
  background: linear-gradient(180deg, color-mix(in srgb, #fff 86%, var(--cc-brand) 6%), #fff);
  border: 1px solid color-mix(in srgb, var(--cc-brand) 30%, var(--cc-border));
}
body.dark .kpi-strong, body.dark .stat-card {
  background: linear-gradient(180deg, color-mix(in srgb, #161b26 86%, var(--cc-brand) 10%), #141924);
}
.stat-card .stat-value {
  font-size: clamp(22px, 3.2vw, 34px);
  font-weight: 900; letter-spacing: -0.02em;
}
.stat-card .stat-label { color: var(--cc-muted); font-weight: 600; }

/* --------------------------------------------------------------------------
   Buttons
   -------------------------------------------------------------------------- */
.btn, .button, .cc-btn {
  --_bg: var(--cc-brand);
  --_bg-hover: var(--cc-brand-600);
  --_text: #fff;
  display: inline-flex; align-items: center; gap: 8px;
  padding: 11px 16px; font-weight: 800;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--cc-brand) 42%, #0000);
  background: var(--_bg); color: var(--_text);
  text-decoration: none; cursor: pointer;
  box-shadow: 0 10px 26px color-mix(in srgb, var(--cc-brand) 24%, #0000);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.btn:hover, .button:hover, .cc-btn:hover {
  background: var(--_bg-hover);
  transform: translateY(-1px);
  box-shadow: 0 14px 36px color-mix(in srgb, var(--cc-brand) 28%, #0000);
}
.btn:active, .cc-btn:active, .btn:focus, .cc-btn:focus {
  background: var(--cc-brand-700);
  border-color: var(--cc-brand-700);
}
.btn-outline, .btn-outline-primary {
  --_bg: transparent; --_text: var(--cc-brand);
  border-color: var(--cc-brand); background: transparent; color: var(--_text);
}
.btn-outline:hover, .btn-outline-primary:hover {
  background: color-mix(in srgb, var(--cc-brand) 12%, transparent);
}

/* Danger buttons/pills to match red alert theme */
.btn-danger, .pill-danger, .badge-danger {
  background: var(--cc-danger) !important;
  border-color: var(--cc-danger-600) !important;
  color: #fff !important;
}
.btn-danger:hover { background: var(--cc-danger-600) !important; }

/* Utility tints */
.badge-success, .pill-success {
  background: color-mix(in srgb, #16a34a 18%, #fff);
  color: #0f5132; border: 1px solid color-mix(in srgb, #16a34a 34%, #0000);
}
.badge-warning, .pill-warning {
  background: color-mix(in srgb, var(--cc-warning) 20%, #fff);
  color: #7a4d00; border: 1px solid color-mix(in srgb, var(--cc-warning) 34%, #0000);
}

/* Status badges */
.badge, .pill, .status-badge {
  display: inline-flex; align-items: center; gap: .5ch;
  font-weight: 800; letter-spacing: .2px;
  padding: 6px 10px; border-radius: 999px;
  background: var(--cc-badge-bg); color: var(--cc-badge-ink); border: 1px solid var(--cc-badge-br);
}

/* --------------------------------------------------------------------------
   Tables
   -------------------------------------------------------------------------- */
.table, table.cc-table {
  width: 100%; background: var(--cc-card);
  border: 1px solid var(--cc-border); border-radius: var(--cc-radius);
  overflow: hidden; border-collapse: separate; border-spacing: 0;
}
.table thead th, table.cc-table thead th {
  background: #ecf2ff; color: var(--cc-heading);
  font-weight: 900; border-bottom: 1px solid var(--cc-border);
}
.table tbody tr:hover, table.cc-table tbody tr:hover { background: var(--cc-row-hover); }
.table th, .table td, table.cc-table th, table.cc-table td {
  padding: 10px 12px; border-bottom: 1px solid var(--cc-border);
  vertical-align: middle; white-space: nowrap;
}
.table td.text-wrap, table.cc-table td.text-wrap { white-space: normal; }
.table-responsive {
  overflow: auto; border: 1px solid var(--cc-border); border-radius: var(--cc-radius);
}

/* --------------------------------------------------------------------------
   Forms
   -------------------------------------------------------------------------- */
input[type="text"], input[type="number"], input[type="email"], input[type="password"],
select, textarea, .form-control {
  background: var(--cc-card); border: 1px solid var(--cc-border);
  border-radius: 12px; padding: 10px 12px; color: var(--cc-text); font-weight: 600;
}
input:focus, select:focus, textarea:focus, .form-control:focus {
  outline: none;
  border-color: color-mix(in srgb, var(--cc-brand) 60%, var(--cc-border));
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--cc-brand) 18%, transparent);
  transition: box-shadow .18s ease, border-color .18s ease;
}
.select2-container, .flatpickr-calendar, .datepicker { z-index: 2000 !important; }

/* --------------------------------------------------------------------------
   Dashboard helpers
   -------------------------------------------------------------------------- */
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: var(--cc-gap); }
.cc-progress { height: 8px; background: var(--cc-border); border-radius: 999px; overflow: hidden; }
.cc-progress > span { display: block; height: 100%; width: var(--value, 0%); background: var(--cc-brand); border-radius: inherit; }

/* Charts */
.chart-card canvas, .chart, .rechart, .apexchart { width: 100%; height: 280px; }

/* --------------------------------------------------------------------------
   Navbar / Sidebar
   -------------------------------------------------------------------------- */
.navbar, .app-navbar {
  background: var(--cc-card); border-bottom: 1px solid var(--cc-border);
  backdrop-filter: saturate(1.2) blur(6px);
}
.sidebar, .app-sidebar { background: var(--cc-card); border-right: 1px solid var(--cc-border); }

/* --------------------------------------------------------------------------
   Toasts / Alerts ‚Äî üî¥ strong red theme
   -------------------------------------------------------------------------- */
.alert { border: 1px solid var(--cc-border); border-radius: 12px; box-shadow: var(--cc-shadow-sm); }
.alert-success { background: #ecfdf5; border-color: #86efac; color:#065f46; }
.alert-warning { background: #fffbeb; border-color: #fcd34d; color:#7a4d00; }
/* Stronger red look (the one you liked) */
.alert-danger  {
  background: #ffe8e8;                 /* soft red panel */
  border-color: var(--cc-danger-600);   /* dark red edge */
  color: #7f1d1d;
  box-shadow: 0 10px 24px rgba(224,49,49,.16);
}
.alert a { font-weight: 700; }
.alert-list { list-style: none; padding: 0; margin: 0; }
.alert-list li { padding: 10px 0; border-bottom: 1px dashed var(--cc-border); }
.alert-list li:last-child { border-bottom: 0; }

/* --------------------------------------------------------------------------
   Misc utilities
   -------------------------------------------------------------------------- */
.text-muted { color: var(--cc-muted) !important; }
.border     { border: 1px solid var(--cc-border) !important; border-radius: 12px; }
.shadow-sm  { box-shadow: var(--cc-shadow-sm) !important; }
.shadow-md  { box-shadow: var(--cc-shadow-md) !important; }
.rounded    { border-radius: var(--cc-radius) !important; }
.rounded-sm { border-radius: var(--cc-radius-sm) !important; }
.gap-cc     { gap: var(--cc-gap); }
.p-cc       { padding: var(--cc-gap); }
.py-cc      { padding-block: var(--cc-gap); }
.px-cc      { padding-inline: var(--cc-gap); }

/* ==========================================================================
   üì± MOBILE FULL-SCREEN FIT (always-on, non-destructive)
   Brings back the ‚Äúperfect fit‚Äù feel from your previous version.
   ========================================================================== */
body, button, input, select, textarea {
  letter-spacing: normal;
  line-height: 1.35;
  word-break: normal !important;
  overflow-wrap: normal !important;
  hyphens: manual;
}

/* Containers == true full width */
.container, .container-fluid, .page, .content, .cc-page, main {
  width: 100% !important; max-width: 100% !important; margin: 0 auto !important;
  padding-left: 16px; padding-right: 16px;
}

/* Keep bottom dock from overlapping content */
main, .page, .content, .cc-page, .container, .container-fluid {
  padding-bottom: calc(var(--dock-h) + var(--safe-bottom) + 16px);
}

/* Dropdowns/overlays layering + no clipping */
.navbar, .topbar, .app-navbar, .page-header, .header, .card, .cc-card, .glass-card { overflow: visible !important; }
.dropdown-menu, .dropdown-menu.show, .popover, .tooltip, .cc-search-popover, .tenant-menu {
  position: absolute !important; z-index: 3000 !important; max-width: min(92vw, 420px);
  white-space: normal !important; will-change: transform;
}
.dropdown-item, .menu-item, .popover * { writing-mode: horizontal-tb !important; }

/* Mobile container & grid behavior */
@media (max-width: 991.98px){
  html, body { overflow-x: hidden !important; }
  .row { margin-left: 0 !important; margin-right: 0 !important; }
  [class*="col-"] { padding-left: 8px !important; padding-right: 8px !important; }

  /* Defensive: prevent children from forcing overflow */
  .cc-page, main, .container, .container-fluid, .row, .d-flex, .flex, [class*="d-flex"] { min-width: 0 !important; }

  /* KPI / tile grids: 2 cols on phones, 1 on tiny phones */
  .dashboard, .cc-dashboard, .stats, .kpi-tiles, .stat-tiles {
    display: grid !important; grid-template-columns: repeat(2, minmax(0, 1fr)) !important; gap: 12px !important;
  }
  .stat-card, .kpi, .kpi-chip, .dashboard .card, .stats .card {
    min-height: 120px; display:flex; align-items:center; justify-content:center; text-align:center;
  }
}
@media (max-width: 420px){
  .dashboard, .cc-dashboard, .stats, .kpi-tiles, .stat-tiles { grid-template-columns: 1fr !important; }
}

/* Mobile tables: scroll without widening page */
@media (max-width: 991.98px){
  table, .table { display: block; width: 100% !important; overflow-x: auto !important; -webkit-overflow-scrolling: touch; }
}

/* Chips/filters never wrap vertically */
.chips, .chip-row, .filters, .filter-row, .tabs, .tabs-row, .pill-row, .invite-filters {
  display: flex; gap: .5rem; flex-wrap: nowrap !important; overflow-x: auto; -webkit-overflow-scrolling: touch;
}
.btn, .cc-btn, .badge, .pill, .status-badge, .kpi, .nav-link, .dropdown-item,
.tabbar a, .cc-bottom-nav a, .form-label, .btn .label, .cc-btn .label {
  white-space: nowrap !important; text-overflow: ellipsis; overflow: hidden;
}

/* Force multi-column dashboards to single column only when you opt-in
   by adding <body class="cc-mobile-fit"> (keeps desktop-like rows otherwise). */
@media (max-width: 991.98px){
  body.cc-mobile-fit .grid,
  body.cc-mobile-fit .grid-2,
  body.cc-mobile-fit .dashboard-grid,
  body.cc-mobile-fit .two-col,
  body.cc-mobile-fit .layout-2col,
  body.cc-mobile-fit .content-grid,
  body.cc-mobile-fit .columns {
    display: grid !important; grid-template-columns: 1fr !important; gap: 12px !important;
  }
}

/* Respect notches/safe areas */
@supports (padding: max(0px)){
  .navbar, .topbar, header, .page-header { padding-top: max(0px, var(--safe-top)); }
  .bottom-nav, .tabbar, .cc-bottom-nav { padding-bottom: max(8px, var(--safe-bottom)); }
}

/* --------------------------------------------------------------------------
   Sidebar drawer (30% width on mobile) + backdrop
   -------------------------------------------------------------------------- */
@media (max-width: 991.98px) {
  .content, .main, .page, .dashboard, .inventory__body { margin-left: 0 !important; padding-left: 0 !important; }

  .sidebar, .cc-sidebar, .nav-sidebar, .cc-drawer {
    position: fixed !important; top: 0; left: 0; bottom: 0;
    width: var(--nav-drawer-w) !important; max-width: 100vw !important;
    background: var(--cc-card) !important; border-right: 1px solid var(--cc-border) !important;
    transform: translateX(-100%) !important;
    transition: transform .25s ease-out; z-index: 2000;
  }
  .sidebar.open, .cc-sidebar.open, .nav-sidebar.open, .cc-drawer.open,
  body[data-drawer="open"] .sidebar, body[data-drawer="open"] .cc-sidebar,
  body[data-drawer="open"] .nav-sidebar, body[data-drawer="open"] .cc-drawer { transform: translateX(0) !important; }

  #ccBackdrop{
    position: fixed; inset: 0; background: rgba(0,0,0,.28);
    z-index: 1990; display: none; opacity: 0; pointer-events: none; transition: opacity .2s ease;
  }
  body[data-drawer="open"] #ccBackdrop{ display:block; opacity:1; pointer-events:auto; }
}
.cc-header { z-index: 1600 !important; }
.mobile-tabbar, .cc-bottom-nav { z-index: 1200 !important; }

/* --------------------------------------------------------------------------
   Search popover (sticky actions on mobile)
   -------------------------------------------------------------------------- */
.cc-search { position: relative; }
.cc-search-popover{
  position: absolute; top: 100%; left: 0; right: 0;
  max-height: 60vh; overflow-y: auto; -webkit-overflow-scrolling: touch;
  z-index: 3055; background: rgba(255,255,255,.98);
  border-radius: 14px; box-shadow: 0 12px 40px rgba(0,0,0,.18);
  border: 1px solid var(--cc-border);
}
@media (prefers-color-scheme: dark){ .cc-search-popover{ background: rgba(18,22,34,.98); } }
.cc-search-actions{
  position: sticky; bottom: 0; padding: .5rem .75rem;
  background: inherit; border-top: 1px solid rgba(125,125,125,.18);
  display: flex; gap: .5rem; justify-content: flex-end;
}

/* --------------------------------------------------------------------------
   Glassmorphic polish for login/forgot
   -------------------------------------------------------------------------- */
:root{
  --glass-bg: color-mix(in oklab, #ffffff 78%, transparent);
  --glass-br: 16px;
  --glass-bd: 1px solid rgba(148,163,184,.35);
  --glass-shadow: 0 20px 60px rgba(2,6,23,.10);
  --glass-ring: 0 0 0 4px color-mix(in oklab, #3b82f6 18%, transparent);
}
body.accounts-auth, body.accounts-forgot {
  background:
    radial-gradient(1200px 800px at -10% -10%, rgba(59,130,246,.10), transparent 40%),
    radial-gradient(900px 600px at 110% 110%, rgba(16,185,129,.10), transparent 45%),
    var(--cc-bg);
}
.auth-glass{
  position: relative; background: var(--glass-bg) !important; border: var(--glass-bd) !important;
  border-radius: var(--glass-br) !important; box-shadow: var(--glass-shadow) !important;
  -webkit-backdrop-filter: blur(16px) saturate(140%); backdrop-filter: blur(16px) saturate(140%);
}
.auth-glass::before{
  content:""; position:absolute; inset:0; border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.06));
  pointer-events:none; mix-blend-mode:overlay;
}
.auth-glass input[type="text"], .auth-glass input[type="email"], .auth-glass input[type="password"]{
  background: color-mix(in oklab, #ffffff 60%, transparent);
  border: 1px solid rgba(148,163,184,.40); border-radius: 12px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
}
.auth-glass input:focus{
  outline: none; border-color: color-mix(in oklab, #3b82f6 48%, #94a3b8); box-shadow: var(--glass-ring);
}
.auth-glass .btn-primary, .auth-glass button[type="submit"]{
  border-radius: 12px; box-shadow: 0 10px 26px rgba(59,130,246,.28);
}
.auth-glass .btn-primary:hover, .auth-glass button[type="submit"]:hover{
  transform: translateY(-1px); box-shadow: 0 14px 36px rgba(59,130,246,.32);
}
.auth-version{ position: fixed; left:10px; bottom:10px; background:#111; color:#fff; border-radius:10px; padding:4px 8px; font:600 12px/1 ui-sans-serif,system-ui; opacity:.85; z-index:9999; }

/* --------------------------------------------------------------------------
   Strong UI emphasis (keeps your rich look)
   -------------------------------------------------------------------------- */
.cc-page h1, .cc-page h2, .page-title h1, .page-title .title, .header .title {
  color: #0b132b !important; font-weight: 900 !important; letter-spacing: -0.015em !important;
}
.cc-page .card, .cc-page .cc-card, .cc-page .glass-card, .cc-page .stat-card {
  background: #ffffff !important; border: 1px solid var(--cc-border) !important;
  box-shadow: var(--cc-shadow-sm) !important;
}
.kpi, .kpi-chip {
  background: rgba(11,94,215,.08) !important;
  border-color: rgba(11,94,215,.28) !important;
  color: #0b132b !important; font-weight: 800 !important;
}
.stat-card .stat-value { color: #0b132b !important; font-weight: 900 !important; font-size: clamp(24px, 3.4vw, 36px) !important; }
.stat-card .stat-label { color: #334155 !important; font-weight: 700 !important; }
.btn, .cc-btn, .btn-primary {
  background: var(--cc-brand) !important; border-color: var(--cc-brand) !important;
  color: #fff !important; font-weight: 800 !important;
  box-shadow: 0 12px 28px rgba(11,94,215,.20) !important;
}
.btn:hover, .cc-btn:hover, .btn-primary:hover {
  background: var(--cc-brand-600) !important; transform: translateY(-1px) !important;
}
.btn:active, .cc-btn:active, .btn-primary:active,
.btn:focus, .cc-btn:focus, .btn-primary:focus {
  background: var(--cc-brand-700) !important; border-color: var(--cc-brand-700) !important;
}
.btn-outline, .btn-outline-primary { color: var(--cc-brand-700) !important; border-color: var(--cc-brand-600) !important; }
.btn-outline:hover, .btn-outline-primary:hover { background: rgba(11,94,215,.10) !important; }
.badge, .pill, .status-badge { background: #e0e9ff !important; border: 1px solid #c1d4ff !important; color: #0b132b !important; font-weight: 800 !important; }
.select2-container--default .select2-selection--single, .form-select, select, .form-control { border: 1px solid var(--cc-border) !important; color: #0b132b !important; }
::placeholder { color: #6b7280 !important; opacity: 1 !important; }
.table thead th, table.cc-table thead th { background: #ecf2ff !important; color: #0b132b !important; font-weight: 900 !important; border-bottom: 1px solid var(--cc-border) !important; }
.table, table.cc-table { border: 1px solid var(--cc-border) !important; }
.table tbody tr:hover, table.cc-table tbody tr:hover { background: var(--cc-row-hover) !important; }
.cc-page .card-header, .cc-page .section h3, .cc-page .section h4 { color: #0b132b !important; font-weight: 800 !important; }
.btn:disabled, .cc-btn:disabled, .btn-primary:disabled { opacity: .7 !important; color: #e5edff !important; }
.cc-page .card, .cc-page .kpi, .cc-page .kpi-chip, .cc-page .btn, .cc-page .cc-btn, .cc-page .form-control { backdrop-filter: none !important; }

/* --------------------------------------------------------------------------
   Footer blur fix
   -------------------------------------------------------------------------- */
.footer-blur,.glass-footer,.bottom-blur,.mobile-fab-bar,.sticky-bottom,.cc-sticky-bar,
.cc-bottom-blur,.sticky-cta,.sticky-actions,.tabbar,.fab-bar{
  backdrop-filter: none !important; -webkit-backdrop-filter: none !important;
  filter: none !important; box-shadow: none !important; background: var(--cc-card) !important;
  border-top: 1px solid var(--cc-border) !important; opacity: 1 !important;
}

/* --------------------------------------------------------------------------
   Billing Plans (subscribe.html)
   -------------------------------------------------------------------------- */
.bill-wrap{max-width:1100px;margin-inline:auto;display:grid;gap:16px}
.g{border:1px solid var(--cc-border);border-radius:14px;background:color-mix(in oklab,var(--cc-card) 86%,transparent);backdrop-filter:blur(12px);box-shadow:var(--cc-shadow-sm);padding:16px}
.plans{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:14px}
.plan-card{
  position:relative;display:flex;flex-direction:column;justify-content:space-between;
  padding:16px;border-radius:12px;border:1px solid var(--cc-border);
  background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.04));
  box-shadow:0 6px 18px rgba(0,0,0,.06);
  cursor:pointer;transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease
}
.plan-card:hover{transform:translateY(-2px);box-shadow:0 12px 26px rgba(0,0,0,.10);border-color:color-mix(in oklab,var(--cc-brand) 35%, var(--cc-border))}
.plan-card h3{font-weight:900;margin:0 0 6px}
.price{font-size:1.6rem;font-weight:900}
.feat{opacity:.85}
.feat li{margin:4px 0}
.feat ul{margin:8px 0 0 1rem}
.plan-cta{ margin-top:12px;width:100%;border:0;border-radius:10px;padding:10px 14px;font-weight:700;color:#fff;box-shadow:0 6px 16px rgba(0,0,0,.12) }
.plan-card:nth-child(1){border-color:color-mix(in oklab,#20c997 40%, var(--cc-border))}
.plan-card:nth-child(1) .plan-cta{background:#20c997}
.plan-card:nth-child(2){border-color:color-mix(in oklab,#f59f00 40%, var(--cc-border))}
.plan-card:nth-child(2) .plan-cta{background:#f59f00}
.plan-card:nth-child(3){border-color:color-mix(in oklab,#e03131 40%, var(--cc-border))}
.plan-card:nth-child(3) .plan-cta{background:#e03131}
.subscribe-footer .btn-continue,.btn-continue,.cc-legacy-continue{display:none !important}
@media (max-width:480px){ .plan-card{padding:14px} .plan-card h3{font-size:1rem} }

/* --------------------------------------------------------------------------
   Quick declutter (safe)
   -------------------------------------------------------------------------- */
a[href*="/inventory/scan/web"],
a[href*="/inventory/scan-web"],
a[href*="scan_web"],
a[href*="/feedback"],
a[href*="/inventory/place-order"],
.btn[href*="/inventory/scan/web"],
.btn[href*="/feedback"],
.btn[href*="/inventory/place-order"],
button[data-action="scan-web"],
button[data-action="feedback"],
button[data-action="place-order"] { display:none !important; }

a[href*="/tenants/choose_business"],
a[href*="/tenants/switch"],
a[href*="/locations/choose"],
a[href*="/locations/switch"],
.tenant-pill,.tenant-chip,.business-chip,.location-chip { display:none !important; }

/* Keep hamburger/mobile toggles visible on phones */
@media (max-width: 991.98px){
  .menu-toggle, .mobile-toggle, .hamburger, .nav-toggle, .navbar-toggler, .btn-menu {
    display: inline-flex !important; visibility: visible !important;
    min-width: 40px; min-height: 40px; align-items: center; justify-content: center;
    z-index: 2015 !important;
  }
}
.menu-toggle svg, .mobile-toggle svg, .hamburger svg, .nav-toggle svg, .navbar-toggler svg, .btn-menu svg {
  width: 22px; height: 22px; stroke: currentColor; fill: none;
}

/* --------------------------------------------------------------------------
   Print
   -------------------------------------------------------------------------- */
@media print {
  .navbar, .sidebar, .btn, .cc-btn, .no-print, .bottom-nav, .tabbar, .cc-bottom-nav { display: none !important; }
  body { background: #fff; color: #000; }
  .card, .table, .cc-card { box-shadow: none; border-color: #bbb; }
}

/* === Sidebar: exactly 30% width on mobile =============================== */
@media (max-width: 991.98px){
  :root{
    /* Force a strict 30% of the viewport width */
    --nav-drawer-w: 30vw !important;
  }

  /* Ensure all sidebar variants use the variable */
  .sidebar, .cc-sidebar, .nav-sidebar, .cc-drawer{
    width: var(--nav-drawer-w) !important;
    max-width: 100vw !important;   /* safety */
  }
}

/* ======================================================================
   SIDEBAR: solid black (no transparency) + readable inks (mobile only)
   ====================================================================== */
@media (max-width: 991.98px){
  .sidebar, .cc-sidebar, .nav-sidebar, .cc-drawer{
    background: #0f1115 !important;        /* solid black */
    border-right: 1px solid #1f2937 !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    color: #e5e7eb !important;
  }

  /* Section labels */
  .cc-sidebar .nav-title,
  .nav-sidebar .nav-title,
  .sidebar .nav-title {
    color: #9aa3b2 !important;
  }

  /* Links */
  .cc-sidebar .nav-link,
  .nav-sidebar .nav-link,
  .sidebar .nav-link {
    color: #e5eaf5 !important;
    fill: currentColor !important;
  }
  /* Icons inside links */
  .cc-sidebar .nav-link svg,
  .nav-sidebar .nav-link svg,
  .sidebar .nav-link svg,
  .cc-sidebar .nav-link i,
  .nav-sidebar .nav-link i,
  .sidebar .nav-link i {
    color: #bcd0ff !important;
    stroke: currentColor !important;
    fill: none !important;
  }

  /* Hover / active states */
  .cc-sidebar .nav-link:hover,
  .nav-sidebar .nav-link:hover,
  .sidebar .nav-link:hover {
    background: #111827 !important;
    color: #ffffff !important;
  }
  .cc-sidebar .nav-link.active,
  .nav-sidebar .nav-link.active,
  .sidebar .nav-link.active {
    background: #13203a !important;        /* subtle blue-black */
    color: #ffffff !important;
    border-left: 3px solid #3b82f6 !important;
  }

  /* Dividers */
  .cc-sidebar hr, .nav-sidebar hr, .sidebar hr {
    border-color: #1f2a38 !important;
    opacity: 1 !important;
  }

  /* Scrollbar tint (Android/Chrome) */
  .cc-sidebar, .nav-sidebar, .sidebar {
    scrollbar-color: #42506a #0f1115;      /* thumb / track */
  }
}

/* === Sidebar width tweak: smaller than current ========================= */
@media (max-width: 991.98px){
  :root{
    /* From 30vw ‚Üí much slimmer; keeps usability on tiny screens */
    --nav-drawer-w: clamp(180px, 18vw, 320px) !important;
  }
  .sidebar, .cc-sidebar, .nav-sidebar, .cc-drawer{
    width: var(--nav-drawer-w) !important;
  }
}
/* Drawer stability patch (keeps animations buttery) */
@media (max-width: 991.98px){
  .cc-sidebar, .nav-sidebar, .cc-drawer, .sidebar{
    will-change: transform;
    backface-visibility: hidden;
    contain: layout paint style; /* perf hint; safe */
  }
}
